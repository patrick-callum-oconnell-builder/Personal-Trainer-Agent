{
  "timestamp": "2025-06-23T04:49:56.410049",
  "summary": {
    "total_tests": 36,
    "passed_tests": 23,
    "failed_tests": 13,
    "error_tests": 0,
    "success_rate_percentage": 63.89,
    "coverage_percentage": 41
  },
  "failed_tests": [
    {
      "test_name": "::backend.tests.integration.test_agent_state_machine.TestAgentStateMachine::test_decide_next_action_with_tool_call",
      "status": "failed",
      "error": "AttributeError: 'coroutine' object has no attribute 'state_machine'",
      "error_type": null,
      "runtime": 0.001,
      "traceback": "backend/tests/integration/test_agent_state_machine.py:16: in test_decide_next_action_with_tool_call\n    action = await agent.state_machine.decide_next_action(history)\nE   AttributeError: 'coroutine' object has no attribute 'state_machine'",
      "stdout": null,
      "stderr": null
    },
    {
      "test_name": "::backend.tests.integration.test_agent_state_machine.TestAgentStateMachine::test_decide_next_action_with_simple_message",
      "status": "failed",
      "error": "AttributeError: 'coroutine' object has no attribute 'state_machine'",
      "error_type": null,
      "runtime": 0.001,
      "traceback": "backend/tests/integration/test_agent_state_machine.py:26: in test_decide_next_action_with_simple_message\n    action = await agent.state_machine.decide_next_action(history)\nE   AttributeError: 'coroutine' object has no attribute 'state_machine'",
      "stdout": null,
      "stderr": null
    },
    {
      "test_name": "::backend.tests.integration.test_agent_state_machine.TestAgentStateMachine::test_process_messages_stream_simple_message",
      "status": "failed",
      "error": "AttributeError: 'coroutine' object has no attribute 'state_machine'",
      "error_type": null,
      "runtime": 0.001,
      "traceback": "backend/tests/integration/test_agent_state_machine.py:46: in test_process_messages_stream_simple_message\n    response_generator = agent.state_machine.process_messages_stream(\nE   AttributeError: 'coroutine' object has no attribute 'state_machine'",
      "stdout": null,
      "stderr": null
    },
    {
      "test_name": "::backend.tests.integration.test_agent_state_machine.TestAgentStateMachine::test_process_messages_stream_with_tool_call",
      "status": "failed",
      "error": "AttributeError: 'coroutine' object has no attribute 'state_machine'",
      "error_type": null,
      "runtime": 0.001,
      "traceback": "backend/tests/integration/test_agent_state_machine.py:75: in test_process_messages_stream_with_tool_call\n    response_generator = agent.state_machine.process_messages_stream(\nE   AttributeError: 'coroutine' object has no attribute 'state_machine'",
      "stdout": null,
      "stderr": null
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_health_check",
      "status": "failed",
      "error": "assert 503 == 200\n +  where 503 = <Response [503 Service Unavailable]>.status_code",
      "error_type": null,
      "runtime": 0.002,
      "traceback": "backend/tests/integration/test_api.py:20: in test_health_check\n    assert response.status_code == 200\nE   assert 503 == 200\nE    +  where 503 = <Response [503 Service Unavailable]>.status_code",
      "stdout": null,
      "stderr": null
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_get_calendar_events",
      "status": "failed",
      "error": "assert 500 == 200\n +  where 500 = <Response [500 Internal Server Error]>.status_code",
      "error_type": null,
      "runtime": 0.002,
      "traceback": "backend/tests/integration/test_api.py:46: in test_get_calendar_events\n    assert response.status_code == 200\nE   assert 500 == 200\nE    +  where 500 = <Response [500 Internal Server Error]>.status_code",
      "stdout": null,
      "stderr": null
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_get_recent_emails",
      "status": "failed",
      "error": "assert 500 == 200\n +  where 500 = <Response [500 Internal Server Error]>.status_code",
      "error_type": null,
      "runtime": 0.002,
      "traceback": "backend/tests/integration/test_api.py:58: in test_get_recent_emails\n    assert response.status_code == 200\nE   assert 500 == 200\nE    +  where 500 = <Response [500 Internal Server Error]>.status_code",
      "stdout": null,
      "stderr": null
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_get_nearby_locations",
      "status": "failed",
      "error": "assert 500 == 200\n +  where 500 = <Response [500 Internal Server Error]>.status_code",
      "error_type": null,
      "runtime": 0.002,
      "traceback": "backend/tests/integration/test_api.py:70: in test_get_nearby_locations\n    assert response.status_code == 200\nE   assert 500 == 200\nE    +  where 500 = <Response [500 Internal Server Error]>.status_code",
      "stdout": null,
      "stderr": null
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_get_fitness_activities",
      "status": "failed",
      "error": "assert 500 == 200\n +  where 500 = <Response [500 Internal Server Error]>.status_code",
      "error_type": null,
      "runtime": 0.003,
      "traceback": "backend/tests/integration/test_api.py:82: in test_get_fitness_activities\n    assert response.status_code == 200\nE   assert 500 == 200\nE    +  where 500 = <Response [500 Internal Server Error]>.status_code",
      "stdout": null,
      "stderr": null
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_get_tasks",
      "status": "failed",
      "error": "assert 500 == 200\n +  where 500 = <Response [500 Internal Server Error]>.status_code",
      "error_type": null,
      "runtime": 0.002,
      "traceback": "backend/tests/integration/test_api.py:93: in test_get_tasks\n    assert response.status_code == 200\nE   assert 500 == 200\nE    +  where 500 = <Response [500 Internal Server Error]>.status_code",
      "stdout": null,
      "stderr": null
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_get_knowledge_graph",
      "status": "failed",
      "error": "assert 'nodes' in {'entities': {'1 Infinite Loop, Cupertino, CA 95014': {'attributes': {'source': 'pattern_match', 'type': 'location'}, 'type': 'LOCATION'}, '25': {'attributes': {'source': 'pattern_match', 'type': 'age'}, 'type': 'AGE'}, \"Patrick O'Connell\": {'attributes': {'source': 'pattern_match', 'type': 'person'}, 'type': 'PERSON'}, 'broccoli': {'attributes': {'source': 'pattern_match', 'type': 'preference'}, 'type': 'PREFERENCE'}, ...}, 'relations': [{'attributes': {}, 'source': \"Patrick O'Connell\", 'target': \"Patrick O'Connell\", 'type': 'IS_NAMED'}, {'attributes': {}, 'source': \"Patrick O'Connell\", 'target': '25', 'type': 'HAS_AGE'}, {'attributes': {}, 'source': \"Patrick O'Connell\", 'target': 'pizza', 'type': 'LIKES'}, {'attributes': {}, 'source': \"Patrick O'Connell\", 'target': 'broccoli', 'type': 'LIKES'}, {'attributes': {}, 'source': \"Patrick O'Connell\", 'target': 'martial arts', 'type': 'LIKES'}, {'attributes': {}, 'source': \"Patrick O'Connell\", 'target': '1 Infinite Loop, Cupertino, CA 95014', 'type': 'LIVES_AT'}, ...]}",
      "error_type": null,
      "runtime": 77.153,
      "traceback": "backend/tests/integration/test_api.py:110: in test_get_knowledge_graph\n    assert \"nodes\" in response_data\nE   assert 'nodes' in {'entities': {'1 Infinite Loop, Cupertino, CA 95014': {'attributes': {'source': 'pattern_match', 'type': 'location'}, 'type': 'LOCATION'}, '25': {'attributes': {'source': 'pattern_match', 'type': 'age'}, 'type': 'AGE'}, \"Patrick O'Connell\": {'attributes': {'source': 'pattern_match', 'type': 'person'}, 'type': 'PERSON'}, 'broccoli': {'attributes': {'source': 'pattern_match', 'type': 'preference'}, 'type': 'PREFERENCE'}, ...}, 'relations': [{'attributes': {}, 'source': \"Patrick O'Connell\", 'target': \"Patrick O'Connell\", 'type': 'IS_NAMED'}, {'attributes': {}, 'source': \"Patrick O'Connell\", 'target': '25', 'type': 'HAS_AGE'}, {'attributes': {}, 'source': \"Patrick O'Connell\", 'target': 'pizza', 'type': 'LIKES'}, {'attributes': {}, 'source': \"Patrick O'Connell\", 'target': 'broccoli', 'type': 'LIKES'}, {'attributes': {}, 'source': \"Patrick O'Connell\", 'target': 'martial arts', 'type': 'LIKES'}, {'attributes': {}, 'source': \"Patrick O'Connell\", 'target': '1 Infinite Loop, Cupertino, CA 95014', 'type': 'LIVES_AT'}, ...]}",
      "stdout": null,
      "stderr": null
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_get_state_history",
      "status": "failed",
      "error": "AssertionError: assert 'state_history' in {'history': []}",
      "error_type": null,
      "runtime": 1.314,
      "traceback": "backend/tests/integration/test_api.py:125: in test_get_state_history\n    assert \"state_history\" in response_data\nE   AssertionError: assert 'state_history' in {'history': []}",
      "stdout": null,
      "stderr": null
    },
    {
      "test_name": "backend/tests/integration/test_natural_language_processing_long.py::backend.tests.integration.test_natural_language_processing_long::test_tool_result_processing",
      "status": "failed",
      "error": "AttributeError: 'NoneType' object has no attribute 'events'",
      "error_type": null,
      "runtime": 0.003,
      "traceback": "backend/tests/integration/test_natural_language_processing_long.py:143: in test_tool_result_processing\n    created_event = await agent.calendar_service.write_event(event_details)\nbackend/google_services/calendar.py:277: in write_event\n    conflicting_events = await self.check_for_conflicts(event_details)\nbackend/google_services/calendar.py:215: in check_for_conflicts\n    conflicting_events = await asyncio.to_thread(fetch)\n/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/asyncio/threads.py:25: in to_thread\n    return await loop.run_in_executor(None, func_call)\n/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/concurrent/futures/thread.py:58: in run\n    result = self.fn(*self.args, **self.kwargs)\nbackend/google_services/calendar.py:206: in fetch\n    events_result = self.service.events().list(\nE   AttributeError: 'NoneType' object has no attribute 'events'",
      "stdout": null,
      "stderr": null
    }
  ],
  "test_runtimes": [
    {
      "test_name": "backend/tests/integration/test_agent_workflow_long.py::backend.tests.integration.test_agent_workflow_long::test_tool_execution_workflow",
      "runtime": 151.403
    },
    {
      "test_name": "backend/tests/integration/test_agent_workflow_long.py::backend.tests.integration.test_agent_workflow_long::test_conversation_loop",
      "runtime": 78.035
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_get_knowledge_graph",
      "runtime": 77.153
    },
    {
      "test_name": "backend/tests/integration/test_agent_workflow_long.py::backend.tests.integration.test_agent_workflow_long::test_error_handling",
      "runtime": 76.717
    },
    {
      "test_name": "backend/tests/integration/test_agent_workflow_long.py::backend.tests.integration.test_agent_workflow_long::test_streaming_conversation",
      "runtime": 3.423
    },
    {
      "test_name": "backend/tests/integration/google_services/test_gmail_integration.py::backend.tests.integration.google_services.test_gmail_integration::test_get_recent_emails",
      "runtime": 3.326
    },
    {
      "test_name": "backend/tests/integration/test_natural_language_processing_long.py::backend.tests.integration.test_natural_language_processing_long::test_natural_language_to_calendar_json_conversion",
      "runtime": 3.294
    },
    {
      "test_name": "backend/tests/integration/google_services/test_maps_integration_long.py::backend.tests.integration.google_services.test_maps_integration_long::test_maps_tool_call",
      "runtime": 2.625
    },
    {
      "test_name": "backend/tests/integration/test_natural_language_processing_long.py::backend.tests.integration.test_natural_language_processing_long::test_tool_confirmation_messages",
      "runtime": 2.48
    },
    {
      "test_name": "backend/tests/integration/test_natural_language_processing_long.py::backend.tests.integration.test_natural_language_processing_long::test_tool_execution_with_natural_language",
      "runtime": 2.354
    },
    {
      "test_name": "backend/tests/integration/google_services/test_sheets_integration.py::backend.tests.integration.google_services.test_sheets_integration::test_add_workout_entry",
      "runtime": 2.25
    },
    {
      "test_name": "backend/tests/integration/google_services/test_sheets_integration.py::backend.tests.integration.google_services.test_sheets_integration::test_create_workout_tracker",
      "runtime": 1.988
    },
    {
      "test_name": "::backend.tests.integration.google_services.test_calendar_integration.TestCalendarIntegration::test_schedule_workout",
      "runtime": 1.521
    },
    {
      "test_name": "backend/tests/integration/google_services/test_drive_integration.py::backend.tests.integration.google_services.test_drive_integration::test_upload_workout_plan",
      "runtime": 1.416
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_get_state_history",
      "runtime": 1.314
    },
    {
      "test_name": "backend/tests/integration/google_services/test_tasks_integration.py::backend.tests.integration.google_services.test_tasks_integration::test_add_workout_task",
      "runtime": 1.238
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_chat",
      "runtime": 1.15
    },
    {
      "test_name": "::backend.tests.integration.google_services.test_calendar_integration.TestCalendarIntegration::test_fetch_upcoming_events",
      "runtime": 0.791
    },
    {
      "test_name": "backend/tests/integration/test_calendar_conflict_resolution.py::backend.tests.integration.test_calendar_conflict_resolution::test_calendar_conflict_resolution_invalid_action",
      "runtime": 0.775
    },
    {
      "test_name": "backend/tests/integration/google_services/test_tasks_integration.py::backend.tests.integration.google_services.test_tasks_integration::test_create_workout_tasklist",
      "runtime": 0.753
    },
    {
      "test_name": "backend/tests/integration/google_services/test_drive_integration.py::backend.tests.integration.google_services.test_drive_integration::test_create_folder",
      "runtime": 0.733
    },
    {
      "test_name": "backend/tests/integration/test_calendar_conflict_resolution.py::backend.tests.integration.test_calendar_conflict_resolution::test_calendar_conflict_detection",
      "runtime": 0.686
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_get_fitness_activities",
      "runtime": 0.003
    },
    {
      "test_name": "backend/tests/integration/test_natural_language_processing_long.py::backend.tests.integration.test_natural_language_processing_long::test_tool_result_processing",
      "runtime": 0.003
    },
    {
      "test_name": "backend/tests/integration/test_agent_workflow_long.py::backend.tests.integration.test_agent_workflow_long::test_agent_initialization",
      "runtime": 0.002
    },
    {
      "test_name": "backend/tests/integration/test_agent_workflow_long.py::backend.tests.integration.test_agent_workflow_long::test_tool_creation",
      "runtime": 0.002
    },
    {
      "test_name": "backend/tests/integration/test_agent_workflow_long.py::backend.tests.integration.test_agent_workflow_long::test_agent_workflow_creation",
      "runtime": 0.002
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_health_check",
      "runtime": 0.002
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_get_calendar_events",
      "runtime": 0.002
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_get_recent_emails",
      "runtime": 0.002
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_get_nearby_locations",
      "runtime": 0.002
    },
    {
      "test_name": "backend/tests/integration/test_api.py::backend.tests.integration.test_api::test_get_tasks",
      "runtime": 0.002
    },
    {
      "test_name": "::backend.tests.integration.test_agent_state_machine.TestAgentStateMachine::test_decide_next_action_with_tool_call",
      "runtime": 0.001
    },
    {
      "test_name": "::backend.tests.integration.test_agent_state_machine.TestAgentStateMachine::test_decide_next_action_with_simple_message",
      "runtime": 0.001
    },
    {
      "test_name": "::backend.tests.integration.test_agent_state_machine.TestAgentStateMachine::test_process_messages_stream_simple_message",
      "runtime": 0.001
    },
    {
      "test_name": "::backend.tests.integration.test_agent_state_machine.TestAgentStateMachine::test_process_messages_stream_with_tool_call",
      "runtime": 0.001
    }
  ],
  "total_runtime": 415.4509999999999,
  "average_runtime": 11.540305555555554
}